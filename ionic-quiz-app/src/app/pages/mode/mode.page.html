<ion-header>
  <ion-toolbar>
    <ion-title *ngIf="mode == 0">Lernmodus</ion-title>
    <ion-title *ngIf="mode == 1">Pr√ºfungsmodus</ion-title>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end" style="cursor: pointer;">
      <ion-icon (click)="onClose()" slot="icon-only" name="close"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form>
    <ion-card>
      <ion-card-content>
        <ion-list lines="full">
          <ion-item>
            <ion-label position="stacked" class="header">Frage &middot; {{temp+1}}/{{collSize}}
            </ion-label>
            <ion-textarea readonly type="text" rows="5">{{questionText}}
            </ion-textarea>
          </ion-item>

          <ion-radio-group [(ngModel)]="selectedShippingMethod" name="selam">
            <ion-item>
              <ion-radio [ngClass]="checked ? 'hide-item' : ''" slot="start" value="1"></ion-radio>
              <ion-label *ngIf="selectedShippingMethod == 1 && checked == true && true_or_false == true">
                1: {{answerText[0]}}
                <ion-icon slot="icon-only" name="checkmark-circle-outline" class="true"></ion-icon>
              </ion-label>
              <ion-label *ngIf="selectedShippingMethod == 1 && checked == true && true_or_false == false">
                1: {{answerText[0]}}
                <ion-icon slot="icon-only" name="close-circle-outline" class="false"></ion-icon>
              </ion-label>
              <ion-label *ngIf="checked == false" [class.selected]="selectedShippingMethod == 1">
                1: {{answerText[0]}}
              </ion-label>
              <ion-label
                *ngIf="checked == true && selectedShippingMethod != 1 && questionsBackup[temp].correct_answer != 1">
                1: {{answerText[0]}}
              </ion-label>
              <ion-label
                *ngIf="checked == true && selectedShippingMethod != 1 && questionsBackup[temp].correct_answer == 1 ">
                1: {{answerText[0]}}
                <ion-icon slot="icon-only" name="checkmark-circle-outline" class="true"></ion-icon>
              </ion-label>

            </ion-item>
            <ion-item>
              <ion-radio [ngClass]="checked ? 'hide-item' : ''" slot="start" value="2"></ion-radio>
              <ion-label *ngIf="selectedShippingMethod==2 && checked==true && true_or_false==true">
                2: {{answerText[1]}}
                <ion-icon slot="icon-only" name="checkmark-circle-outline" class="true"></ion-icon>
              </ion-label>
              <ion-label *ngIf="selectedShippingMethod==2 && checked==true && true_or_false==false">
                2: {{answerText[1]}}
                <ion-icon slot="icon-only" name="close-circle-outline" class="false"></ion-icon>
              </ion-label>
              <ion-label *ngIf="checked==false" [class.selected]="selectedShippingMethod==2">
                2: {{answerText[1]}}
              </ion-label>
              <ion-label *ngIf="checked==true && selectedShippingMethod!=2 && questionsBackup[temp].correct_answer!=2">
                2: {{answerText[1]}}
              </ion-label>
              <ion-label *ngIf="checked==true && selectedShippingMethod!=2 && questionsBackup[temp].correct_answer==2 ">
                2: {{answerText[1]}}
                <ion-icon slot="icon-only" name="checkmark-circle-outline" class="true"></ion-icon>
              </ion-label>

            </ion-item>
            <ion-item>
              <ion-radio [ngClass]="checked ? 'hide-item' : ''" slot="start" value="3"></ion-radio>
              <ion-label *ngIf="selectedShippingMethod==3 && checked==true && true_or_false==true">
                3: {{answerText[2]}}
                <ion-icon slot="icon-only" name="checkmark-circle-outline" class="true"></ion-icon>
              </ion-label>
              <ion-label *ngIf="selectedShippingMethod==3 && checked==true && true_or_false==false">
                3: {{answerText[2]}}
                <ion-icon slot="icon-only" name="close-circle-outline" class="false"></ion-icon>
              </ion-label>
              <ion-label *ngIf="checked==false" [class.selected]="selectedShippingMethod==3">
                3: {{answerText[2]}}
              </ion-label>
              <ion-label *ngIf="checked==true && selectedShippingMethod!=3 && questionsBackup[temp].correct_answer!=3">
                3: {{answerText[2]}}
              </ion-label>
              <ion-label *ngIf="checked==true && selectedShippingMethod!=3 && questionsBackup[temp].correct_answer==3 ">
                3: {{answerText[2]}}
                <ion-icon slot="icon-only" name="checkmark-circle-outline" class="true"></ion-icon>
              </ion-label>

            </ion-item>
            <ion-item>
              <ion-radio [ngClass]="checked ? 'hide-item' : ''" slot="start" value="4"></ion-radio>
              <ion-label *ngIf="selectedShippingMethod==4 && checked==true && true_or_false==true">
                4: {{answerText[3]}}
                <ion-icon slot="icon-only" name="checkmark-circle-outline" class="true"></ion-icon>
              </ion-label>
              <ion-label *ngIf="selectedShippingMethod == 4 && checked == true && true_or_false == false">
                4: {{answerText[3]}}
                <ion-icon slot="icon-only" name="close-circle-outline" class="false"></ion-icon>
              </ion-label>
              <ion-label *ngIf="checked == false" [class.selected]="selectedShippingMethod==4">
                4: {{answerText[3]}}
              </ion-label>
              <ion-label
                *ngIf="checked == true && selectedShippingMethod != 4 && questionsBackup[temp].correct_answer!=4 ">
                4: {{answerText[3]}}
              </ion-label>
              <ion-label *ngIf="checked==true && selectedShippingMethod!=4 && questionsBackup[temp].correct_answer==4 ">
                4: {{answerText[3]}}
                <ion-icon slot="icon-only" name="checkmark-circle-outline" class="true"></ion-icon>
              </ion-label>

            </ion-item>
          </ion-radio-group>
          <ion-toolbar *ngIf="mode == 0">
            <ion-buttons [ngClass]="collSize-temp != collSize ? '' : 'hide-item'" slot="start">
              <ion-button (click)="previous()" class="buttons">
                <ion-icon slot="icon-only" name="arrow-back-circle-outline"></ion-icon>
              </ion-button>
            </ion-buttons>
            <ion-buttons>
              <ion-button (click)="check()" class="check-button buttons"
                [ngClass]="checked == false && selectedShippingMethod != null ? '' : 'hide-item full'">
                <ion-icon slot="icon-only" name="help-circle-outline"></ion-icon>
              </ion-button>
              <ion-button (click)="repeat()" class="check-button buttons"
                [ngClass]="checked == true && collSize-temp == 1 ? '' : 'hide-item full'">
                <ion-icon slot="icon-only" name="repeat-outline"></ion-icon>
              </ion-button>
            </ion-buttons>
            <ion-buttons slot="end">
              <ion-button (click)="next()" class="buttons" [ngClass]="collSize-temp != 1? '' : 'hide-item full'">
                <ion-icon slot="icon-only" name="arrow-forward-circle-outline"></ion-icon>
              </ion-button>
              <ion-button (click)="endMode(mode)" class="buttons"
                [ngClass]="collSize-temp != 1 || selectedShippingMethod == null? 'hide-item full' : ''">
                <ion-icon slot="icon-only" name="exit-outline"></ion-icon>
              </ion-button>
            </ion-buttons>
          </ion-toolbar>

          <ion-toolbar *ngIf="mode == 1">
            <ion-buttons *ngIf="mode == 0" [ngClass]="collSize-temp != collSize ? '' : 'hide-item'" slot="start">
              <ion-button (click)="previous()" class="buttons">
                <ion-icon slot="icon-only" name="arrow-back-circle-outline"></ion-icon>
              </ion-button>
            </ion-buttons>
            <ion-buttons slot="end">
              <ion-button *ngIf="mode == 0 || selectedShippingMethod != null" (click)="next()" class="buttons"
                [ngClass]="collSize-temp != 1 ? '' : 'hide-item full'">
                <ion-icon slot="icon-only" name="arrow-forward-circle-outline"></ion-icon>
              </ion-button>
              <ion-button (click)="endMode(mode)" *ngIf="selectedShippingMethod != null" class="buttons"
                [ngClass]="collSize-temp != 1 ? 'hide-item full' : ''">
                <ion-icon slot="icon-only" name="exit-outline"></ion-icon>
              </ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-list>
      </ion-card-content>
    </ion-card>
  </form>
</ion-content>